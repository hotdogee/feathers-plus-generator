
<%- tplTsOnly(`/// <reference types="mocha"/>${EOL}`) -%>
<%- tplImports('assert', null) %>
<%- tplImports('{ readJsonFileSync }', '@feathers-plus/test-utils') %>
<%- tplImports('app', `${pathTestToApp}${specs.app.src}/app`) %>
<%- tplImports('config', `${pathTestToApp}config/default.js`) %>

// Determine if environment allows test to mutate existing DB data.
const env = (config.tests || {}).environmentsAllowingSeedData || []<%- sc %>
if (!env.includes(process.env.NODE_ENV)) {
  // <%- lintDisableNextLineNoConsole %>
  console.log('SKIPPED - Test <%- serviceFileName -%>/<%- serviceFileName -%>.service<%- stt%>.test.<%- js -%>')<%- sc %>
<%- tplTsOnly('  // @ts-ignore') %>
  return<%- sc %>
}

// <%- lintDisableNextLineUnused %>
const fakeData = readJsonFileSync([__dirname, '../../../../seeds/fake-data.json']) || {}<%- sc %>

describe('Test <%- serviceFileName -%>/<%- serviceFileName -%>.service<%- stt%>.test.<%- js -%>', () => {
  beforeEach(async () => {
    await app.service('<%- servicePath -%>').remove(null)<%- sc %>
  })<%- sc %>

  it('registered the service', () => {
    const service = app.service('<%- servicePath -%>')<%- sc %>

    assert.ok(service, 'Registered the service')<%- sc %>
  })<%- sc %>

  it('???', async () => {
    // Setting `provider` indicates an external request
    // <%- lintDisableNextLineUnused %>
    const params = { provider: 'socketio' }<%- sc %>
    assert(true)<%- sc %>

    /*
    const record = await app.service('<%- servicePath -%>').create({

    }, params)<%- sc %>

    assert.deepEqual(record, {

    })<%- sc %>
    */
  })<%- sc %>
})<%- sc %>
